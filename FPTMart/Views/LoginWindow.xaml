<Window x:Class="FPTMart.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="FPTMart - Đăng Nhập" 
        Height="500" Width="400"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent">

    <Border CornerRadius="15" Background="White">
        <Border.Effect>
            <DropShadowEffect BlurRadius="20" ShadowDepth="0" Opacity="0.3"/>
        </Border.Effect>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Border Grid.Row="0" 
                    Background="#1E3A5F" 
                    CornerRadius="15,15,0,0" 
                    Padding="30">
                <StackPanel HorizontalAlignment="Center">
                    <materialDesign:PackIcon Kind="Store" Width="60" Height="60" Foreground="White" HorizontalAlignment="Center"/>
                    <TextBlock Text="FPTMart" FontSize="28" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                    <TextBlock Text="Hệ Thống Quản Lý Bán Hàng" FontSize="12" Foreground="#B0B0B0" HorizontalAlignment="Center"/>
                </StackPanel>
            </Border>

            <!-- Login Form -->
            <StackPanel Grid.Row="1" Margin="40,30">
                <TextBlock Text="Đăng Nhập" FontSize="20" FontWeight="Medium" HorizontalAlignment="Center" Margin="0,0,0,25"/>

                <!-- Username -->
                <TextBox x:Name="UsernameTextBox"
                         Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}"
                         materialDesign:HintAssist.Hint="Tên đăng nhập"
                         materialDesign:HintAssist.IsFloating="True"
                         Style="{StaticResource MaterialDesignOutlinedTextBox}"
                         FontSize="14"
                         Margin="0,0,0,20">
                    <TextBox.InputBindings>
                        <KeyBinding Key="Enter" Command="{Binding LoginCommand}"/>
                    </TextBox.InputBindings>
                </TextBox>

                <!-- Password -->
                <PasswordBox x:Name="PasswordBox"
                             materialDesign:HintAssist.Hint="Mật khẩu"
                             materialDesign:HintAssist.IsFloating="True"
                             Style="{StaticResource MaterialDesignOutlinedPasswordBox}"
                             FontSize="14"
                             Margin="0,0,0,10"
                             PasswordChanged="PasswordBox_PasswordChanged">
                </PasswordBox>

                <!-- Error Message -->
                <TextBlock Text="{Binding ErrorMessage}" 
                           Foreground="#D32F2F" 
                           TextWrapping="Wrap"
                           HorizontalAlignment="Center"
                           Margin="0,10,0,0"
                           Visibility="{Binding ErrorMessage, Converter={StaticResource NullToVisibilityConverter}, FallbackValue=Collapsed}"/>

                <!-- Login Button -->
                <Button Command="{Binding LoginCommand}"
                        Content="ĐĂNG NHẬP"
                        Style="{StaticResource MaterialDesignRaisedButton}"
                        Background="#1976D2"
                        FontSize="14"
                        Height="45"
                        Margin="0,25,0,0"
                        IsEnabled="{Binding IsNotLoading}"/>

                <!-- Loading -->
                <ProgressBar IsIndeterminate="True" 
                             Visibility="{Binding IsLoading, Converter={StaticResource BooleanToVisibilityConverter}}"
                             Margin="0,10,0,0"/>

                <!-- Footer -->
                <TextBlock Text="Tài khoản mặc định: admin / admin123" 
                           Foreground="Gray" 
                           FontSize="11"
                           HorizontalAlignment="Center"
                           Margin="0,30,0,0"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
